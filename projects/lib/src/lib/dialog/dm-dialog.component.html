<div class="ngx-dmd-container-inner" #dci>
    <div class="ngx-dmd-header"
        [style.min-width.px]="maximizedClass || overlayConfig?.position == 'fill' ? null : config?.contentMinWidth"
        [style.max-width.px]="maximizedClass || overlayConfig?.position == 'fill' ? getMaxWidth() : config?.contentMaxWidth"
        (mousedown)="dragStart($event)"
        (mouseup)="dragEnd($event)">
        <ng-container *ngIf="headerTpl" [ngTemplateOutlet]="headerTpl"></ng-container>
        <ng-template [ngIf]="!headerTpl">{{ titleText }}</ng-template>
        <div class="ngx-dmd-header-buttons">
            <div *ngIf="config?.showMaximizeButton"
                class="ngx-dmd-header-button"
                (mousedown)="$event.stopPropagation()"
                (click)="toggleMaximized()">
                <i class="ngx-dmd-icon-font" [class.ngx-dmd-icon-expand]="!maximizedClass" [class.ngx-dmd-icon-shrink]="maximizedClass"></i>
            </div>
            <div *ngIf="config?.showCloseButton"
                class="ngx-dmd-header-button"
                (mousedown)="$event.stopPropagation()"
                (click)="closeDialog()">
                <i class="ngx-dmd-icon-font ngx-dmd-icon-close"></i>
            </div>
        </div>
    </div>
    <div class="ngx-dmd-content"
        [class.ngx-dmd-content-fill]="maximizedClass || overlayConfig?.position == 'fill'"
        [style.min-width.px]="maximizedClass || overlayConfig?.position == 'fill' ? null : config?.contentMinWidth"
        [style.max-width.px]="maximizedClass || overlayConfig?.position == 'fill' ? getMaxWidth() : config?.contentMaxWidth"
        [style.min-height.px]="maximizedClass || overlayConfig?.position == 'fill' ? null : config?.contentMinHeight"
        [style.max-height.px]="maximizedClass || overlayConfig?.position == 'fill' ? null : config?.contentMaxHeight">
        <ng-container *ngIf="contentTpl" [ngTemplateOutlet]="contentTpl"></ng-container>
    </div>
    <div *ngIf="footerTpl" class="ngx-dmd-footer"
        [style.min-width.px]="maximizedClass || overlayConfig?.position == 'fill' ? null : config?.contentMinWidth"
        [style.max-width.px]="maximizedClass || overlayConfig?.position == 'fill' ? getMaxWidth() : config?.contentMaxWidth">
        <ng-container [ngTemplateOutlet]="footerTpl"></ng-container>
    </div>
    <ng-template [ngIf]="config?.resizable">
        <div class="ngx-dmd-border-t" (mousedown)="dragStart($event, { x: 0 , y: 1, w: 0, h: 1 })" (mouseup)="dragEnd($event)"></div>
        <div class="ngx-dmd-border-r" (mousedown)="dragStart($event, { x: 0 , y: 0, w: 1, h: 0 })" (mouseup)="dragEnd($event)"></div>
        <div class="ngx-dmd-border-b" (mousedown)="dragStart($event, { x: 0 , y: 0, w: 0, h: 1 })" (mouseup)="dragEnd($event)"></div>
        <div class="ngx-dmd-border-l" (mousedown)="dragStart($event, { x: 1 , y: 0, w: 1, h: 0 })" (mouseup)="dragEnd($event)"></div>
        <div class="ngx-dmd-border-tl" (mousedown)="dragStart($event, { x: 1 , y: 1, w: 1, h: 1 })" (mouseup)="dragEnd($event)"></div>
        <div class="ngx-dmd-border-tr" (mousedown)="dragStart($event, { x: 0 , y: 0, w: 1, h: 1 })" (mouseup)="dragEnd($event)"></div>
        <div class="ngx-dmd-border-br" (mousedown)="dragStart($event, { x: 0 , y: 0, w: 1, h: 1 })" (mouseup)="dragEnd($event)"></div>
        <div class="ngx-dmd-border-bl" (mousedown)="dragStart($event, { x: 1 , y: 0, w: 0, h: 1 })" (mouseup)="dragEnd($event)"></div>
    </ng-template>
</div>